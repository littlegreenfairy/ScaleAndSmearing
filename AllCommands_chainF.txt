TChain *chain = new TChain("BToKLLdumper/selected");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part0_0.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part0_1.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part0_2.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part0_3.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part0_4.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part0_5.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part1_0.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part1_1.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part1_2.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part1_3.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part1_4.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part1_5.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug26_part2_0.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part2_1.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part2_2.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part2_3.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part2_4.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part2_5.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part3_0.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part3_1.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part3_2.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part3_3.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part3_4.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part3_5.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part4_0.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part4_1.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part4_2.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part4_3.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part4_4.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part4_5.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part5_0.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part5_1.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part5_2.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part5_3.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part5_4.root");
chain->Add("../ECAL_ScaleSmear/Ntuple_data/LowPt_ScaleSmear_data_Run2022F_2024Aug27_part5_5.root");

.L /Users/elenadesantis/Documents/CERN2024/ScaleAndSmearing/MyAnalysisSpicy.C+
MyAnalysisSpicy analysis(chain, 0);
analysis.Loop();
TFile *ntuplemc = TFile::Open("../ECAL_ScaleSmear/LowPt_ScaleSmear_BuToKJPsi_postEE_2024Aug26.root");
TDirectory *dir_mc = (TDirectory*)ntuplemc->Get("BToKLLmc_dumper");
TTree *tree_mc = (TTree*)dir_mc->Get("selected");     
MyAnalysisSpicy analysis_mc(tree_mc, 1);
analysis_mc.Loop();
analysis_mc.ReweightOnPt();
analysis_mc.ReweightOnDxy();
analysis.ApplyCorrections();
